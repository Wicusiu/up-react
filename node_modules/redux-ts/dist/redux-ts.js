(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("redux"), require("ts-helpers"));
	else if(typeof define === 'function' && define.amd)
		define("ReduxTs", ["redux", "ts-helpers"], factory);
	else if(typeof exports === 'object')
		exports["ReduxTs"] = factory(require("redux"), require("ts-helpers"));
	else
		root["ReduxTs"] = factory(root["redux"], root["ts-helpers"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	function __export(m) {
	    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
	}
	__export(__webpack_require__(1));
	__export(__webpack_require__(4));
	__export(__webpack_require__(5));


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	__webpack_require__(7);
	__webpack_require__(3);
	var SyncAction = (function () {
	    function SyncAction() {
	    }
	    return SyncAction;
	}());
	exports.SyncAction = SyncAction;
	var AsyncAction = (function (_super) {
	    __extends(AsyncAction, _super);
	    function AsyncAction() {
	        _super.apply(this, arguments);
	    }
	    AsyncAction.prototype.then = function (onfulfilled, onrejected) {
	        return this.promise.then(onfulfilled, onrejected);
	    };
	    AsyncAction.prototype.catch = function (onrejected) {
	        return this.promise.catch(onrejected);
	    };
	    AsyncAction.prototype.finally = function (onfulfilled) {
	        return this.promise.finally(onfulfilled);
	    };
	    return AsyncAction;
	}(SyncAction));
	exports.AsyncAction = AsyncAction;


/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	var actionHelpers_1 = __webpack_require__(1);
	var isSyncAction = function (action) {
	    return action instanceof actionHelpers_1.SyncAction;
	};
	var isAsyncAction = function (action) {
	    return action instanceof actionHelpers_1.AsyncAction;
	};
	var mergeObject = function (action) {
	    var merged = {};
	    for (var key in action) {
	        if (key !== 'constructor') {
	            merged[key] = action[key];
	        }
	    }
	    return merged;
	};
	exports.asyncMiddleware = function (store) { return function (next) { return function (action) {
	    if (isSyncAction(action)) {
	        action.type = action.constructor.name;
	        if (isAsyncAction(action)) {
	            action.promise = new Promise(function (resolve, reject) {
	                //After original dispatch lifecycle, resolve dispatch in order to handle async operations
	                setTimeout(function () {
	                    resolve(store.dispatch);
	                });
	            });
	        }
	        //Fix: Actions must be plain objects.
	        var merged = mergeObject(action);
	        //Change state immediately and register async operations
	        return next(merged);
	    }
	    return next(action);
	}; }; };


/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";
	Promise.prototype['finally'] = function finallyPolyfill(callback) {
	    var constructor = this.constructor;
	    return this.then(function (value) {
	        return constructor.resolve(callback(value, true)).then(function () {
	            return value;
	        });
	    }, function (reason) {
	        return constructor.resolve(callback(reason, false)).then(function () {
	            throw reason;
	        });
	    });
	};


/***/ },
/* 4 */
/***/ function(module, exports) {

	"use strict";
	var ReducerBuilder = (function () {
	    function ReducerBuilder() {
	        this.actions = {};
	    }
	    ReducerBuilder.prototype.init = function (state) {
	        this.initState = state;
	        return this;
	    };
	    ReducerBuilder.prototype.handle = function (actionType, actionBody) {
	        this.actions[actionType.name] = actionBody;
	        return this;
	    };
	    ReducerBuilder.prototype.build = function () {
	        var _this = this;
	        return function (state, action) {
	            if (state === void 0) { state = _this.initState; }
	            var type = action.type;
	            var actionBody = _this.actions[type];
	            if (!!actionBody) {
	                return actionBody(state, action);
	            }
	            return state;
	        };
	    };
	    return ReducerBuilder;
	}());
	exports.ReducerBuilder = ReducerBuilder;


/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	var redux_1 = __webpack_require__(6);
	var asyncMiddleware_1 = __webpack_require__(2);
	var StoreBuilder = (function () {
	    function StoreBuilder() {
	        this.middlewares = [asyncMiddleware_1.asyncMiddleware];
	        this.reducers = {};
	        this.initialState = {};
	        this.enhancer = function (f) { return f; };
	    }
	    StoreBuilder.prototype.withMiddleware = function (middleware) {
	        this.middlewares.push(middleware);
	        return this;
	    };
	    StoreBuilder.prototype.withInitialState = function (state) {
	        this.initialState = state;
	        return this;
	    };
	    StoreBuilder.prototype.withReducer = function (name, reducer) {
	        this.reducers[name] = reducer;
	        return this;
	    };
	    StoreBuilder.prototype.withReducersMap = function (reducers) {
	        for (var reducer in reducers) {
	            this.reducers[reducer] = reducers[reducer];
	        }
	        return this;
	    };
	    StoreBuilder.prototype.withEnhancer = function (enhancer) {
	        var preEnhancer = this.enhancer;
	        this.enhancer = function (f) { return enhancer(preEnhancer(f)); };
	        return this;
	    };
	    StoreBuilder.prototype.build = function () {
	        var middlewares = redux_1.applyMiddleware.apply(void 0, this.middlewares);
	        var reducers = redux_1.combineReducers(this.reducers);
	        var composer = redux_1.compose(middlewares, this.enhancer)(redux_1.createStore);
	        var store = composer(reducers, this.initialState);
	        return store;
	    };
	    return StoreBuilder;
	}());
	exports.StoreBuilder = StoreBuilder;


/***/ },
/* 6 */
/***/ function(module, exports) {

	module.exports = require("redux");

/***/ },
/* 7 */
/***/ function(module, exports) {

	module.exports = require("ts-helpers");

/***/ }
/******/ ])
});
;
//# sourceMappingURL=redux-ts.js.map