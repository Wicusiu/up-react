{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///redux-ts.min.js","webpack:///webpack/bootstrap 10eedfb526d508a1c302","webpack:///./src/index.ts","webpack:///./src/utils/actionHelpers.ts","webpack:///./src/utils/asyncMiddleware.ts","webpack:///./src/utils/promiseHelpers.ts","webpack:///./src/utils/reducerBuilder.ts","webpack:///./src/utils/storeBuilder.ts","webpack:///external \"redux\"","webpack:///external \"ts-helpers\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__export","hasOwnProperty","SyncAction","AsyncAction","_super","apply","arguments","__extends","prototype","then","onfulfilled","onrejected","promise","actionHelpers_1","isSyncAction","action","isAsyncAction","mergeObject","merged","key","asyncMiddleware","store","next","type","constructor","name","Promise","resolve","reject","setTimeout","dispatch","callback","value","reason","ReducerBuilder","actions","init","state","initState","handle","actionType","actionBody","build","_this","redux_1","asyncMiddleware_1","StoreBuilder","middlewares","reducers","initialState","enhancer","f","withMiddleware","middleware","push","withInitialState","withReducer","reducer","withReducersMap","withEnhancer","preEnhancer","applyMiddleware","combineReducers","composer","compose","createStore"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,SAAAA,QAAA,eACA,kBAAAC,gBAAAC,IACAD,OAAA,iCAAAJ,GACA,gBAAAC,SACAA,QAAA,QAAAD,EAAAG,QAAA,SAAAA,QAAA,eAEAJ,EAAA,QAAAC,EAAAD,EAAA,MAAAA,EAAA,gBACCO,KAAA,SAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAV,OAGA,IAAAC,GAAAU,EAAAD,IACAV,WACAY,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAb,EAAAD,QAAAC,IAAAD,QAAAS,GAGAR,EAAAY,QAAA,EAGAZ,EAAAD,QAvBA,GAAAW,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASR,EAAQD,EAASS,GAE/B,YACA,SAASS,GAASH,GACd,IAAK,GAAIE,KAAKF,GAAQf,EAAQmB,eAAeF,KAAIjB,EAAQiB,GAAKF,EAAEE,IE1DrEC,EAAAT,EAAc,IACdS,EAAAT,EAAc,IACdS,EAAAT,EAAc,KFiER,SAASR,EAAQD,EAASS,GAE/B,YGrEDA,GAAO,GACPA,EAAO,EAKP,IAAAW,GAAA,mBAAAA,MAEA,MAAAA,KAFsBpB,GAAAoB,WAAUA,CAIhC,IAAAC,GAAA,SAAAC,GAAA,QAAAD,KAA0CC,EAAAC,MAAAlB,KAAAmB,WAe1C,MAf0CC,WAAAJ,EAAAC,GAItCD,EAAAK,UAAAC,KAAA,SAAKC,EAAgGC,GACjG,MAAOxB,MAAKyB,QAAQH,KAAKC,EAAaC,IAG1CR,EAAAK,UAAAL,SAAA,SAAMQ,GACF,MAAOxB,MAAKyB,QAALzB,SAAmBwB,IAG9BR,EAAAK,UAAAL,WAAA,SAAQO,GACJ,MAAOvB,MAAKyB,QAALzB,WAAqBuB,IAEpCP,GAf0CD,EAApBpB,GAAAqB,YAAWA,GHyF3B,SAASpB,EAAQD,EAASS,GAE/B,YIrGD,IAAAsB,GAAAtB,EAAwC,GAGlCuB,EAAe,SAACC,GAClB,MAAOA,aAAkBF,GAAAX,YAGvBc,EAAgB,SAACD,GACnB,MAAOA,aAAkBF,GAAAV,aAGvBc,EAAc,SAACF,GACjB,GAAIG,KACJ,KAAK,GAAIC,KAAOJ,GACA,gBAARI,IACAD,EAAOC,GAAaJ,EAAQI,GAGpC,OAAOD,GAGEpC,GAAAsC,gBAAkB,SAAIC,GAAkC,gBAACC,GAA+C,gBAACP,GAClH,GAAID,EAAaC,GAAS,CACtBA,EAAOQ,KAAOR,EAAOS,YAAYC,KAE7BT,EAAcD,KACdA,EAAOH,QAAU,GAAIc,SAA6B,SAACC,EAASC,GAExDC,WAAW,WACPF,EAAQN,EAAMS,cAM1B,IAAIZ,GAASD,EAAYF,EAGzB,OAAOO,GAAKJ,GAGhB,MAAOI,GAAKP,OJmGV,SAAShC,EAAQD,GAEtB,YK1ID4C,SAAQlB,UAAU,WAAa,SAAkCuB,GAC7D,GAAIP,GAAcrC,KAAKqC,WAEvB,OAAOrC,MAAKsB,KAAK,SAAUuB,GACvB,MAAOR,GAAYG,QAAQI,EAASC,GAAO,IAAOvB,KAAK,WACnD,MAAOuB,MAEZ,SAAUC,GACT,MAAOT,GAAYG,QAAQI,EAASE,GAAQ,IAAQxB,KAAK,WACrD,KAAMwB,SLkJZ,SAASlD,EAAQD,GAEtB,YMxJD,IAAAoD,GAAA,mBAAAA,KAEY/C,KAAAgD,WAyBZ,MAtBWD,GAAA1B,UAAA4B,KAAP,SAAYC,GAER,MADAlD,MAAKmD,UAAYD,EACVlD,MAGJ+C,EAAA1B,UAAA+B,OAAP,SAAoCC,EAAwBC,GAExD,MADAtD,MAAKgD,QAAcK,EAAYf,MAAQgB,EAChCtD,MAGJ+C,EAAA1B,UAAAkC,MAAP,cAAAC,GAAAxD,IACI,OAAO,UAACkD,EAA+BtB,GAA/B,SAAAsB,MAAeM,EAAKL,UACxB,IAAIf,GAAOR,EAAOQ,KACdkB,EAAaE,EAAKR,QAAQZ,EAE9B,OAAMkB,GACKA,EAAWJ,EAAOtB,GAGtBsB,IAGnBH,IA3BapD,GAAAoD,eAAcA,GNwLrB,SAASnD,EAAQD,EAASS,GAE/B,YOnMD,IAAAqD,GAAArD,EAAuE,GACvEsD,EAAAtD,EAAgC,GAGhCuD,EAAA,WAOI,QAAAA,KACI3D,KAAK4D,aAAeF,EAAAzB,iBACpBjC,KAAK6D,YACL7D,KAAK8D,gBACL9D,KAAK+D,SAAW,SAACC,GAA0B,MAAAA,IAwCnD,MArCWL,GAAAtC,UAAA4C,eAAP,SAAsBC,GAElB,MADAlE,MAAK4D,YAAYO,KAAKD,GACflE,MAGJ2D,EAAAtC,UAAA+C,iBAAP,SAAwBlB,GAEpB,MADAlD,MAAK8D,aAAeZ,EACblD,MAGJ2D,EAAAtC,UAAAgD,YAAP,SAAsB/B,EAAcgC,GAEhC,MADAtE,MAAK6D,SAASvB,GAAQgC,EACftE,MAGJ2D,EAAAtC,UAAAkD,gBAAP,SAAuBV,GACnB,IAAK,GAAIS,KAAWT,GAChB7D,KAAK6D,SAASS,GAAWT,EAASS,EAEtC,OAAOtE,OAGJ2D,EAAAtC,UAAAmD,aAAP,SAAoBT,GAChB,GAAIU,GAAczE,KAAK+D,QAEvB,OADA/D,MAAK+D,SAAW,SAACC,GAA0B,MAAAD,GAASU,EAAYT,KACzDhE,MAIJ2D,EAAAtC,UAAAkC,MAAP,WACI,GAAIK,GAAcH,EAAAiB,gBAAexD,MAAA,OAAIlB,KAAK4D,aACtCC,EAAWJ,EAAAkB,gBAAgB3E,KAAK6D,UAChCe,EAAWnB,EAAAoB,QAAQjB,EAAa5D,KAAK+D,UAAUN,EAAAqB,aAC/C5C,EAAQ0C,EAASf,EAAU7D,KAAK8D,aAEpC,OAAO5B,IAEfyB,IAnDahE,GAAAgE,aAAYA,GP8OnB,SAAS/D,EAAQD,GQlPvBC,EAAAD,QAAAE,QAAA,URwPM,SAASD,EAAQD,GSxPvBC,EAAAD,QAAAE,QAAA","file":"redux-ts.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"), require(\"ts-helpers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReduxTs\", [\"redux\", \"ts-helpers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxTs\"] = factory(require(\"redux\"), require(\"ts-helpers\"));\n\telse\n\t\troot[\"ReduxTs\"] = factory(root[\"redux\"], root[\"ts-helpers\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"), require(\"ts-helpers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReduxTs\", [\"redux\", \"ts-helpers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxTs\"] = factory(require(\"redux\"), require(\"ts-helpers\"));\n\telse\n\t\troot[\"ReduxTs\"] = factory(root[\"redux\"], root[\"ts-helpers\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(1));\r\n\t__export(__webpack_require__(4));\r\n\t__export(__webpack_require__(5));\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\t__webpack_require__(7);\r\n\t__webpack_require__(3);\r\n\tvar SyncAction = (function () {\r\n\t    function SyncAction() {\r\n\t    }\r\n\t    return SyncAction;\r\n\t}());\r\n\texports.SyncAction = SyncAction;\r\n\tvar AsyncAction = (function (_super) {\r\n\t    __extends(AsyncAction, _super);\r\n\t    function AsyncAction() {\r\n\t        _super.apply(this, arguments);\r\n\t    }\r\n\t    AsyncAction.prototype.then = function (onfulfilled, onrejected) {\r\n\t        return this.promise.then(onfulfilled, onrejected);\r\n\t    };\r\n\t    AsyncAction.prototype.catch = function (onrejected) {\r\n\t        return this.promise.catch(onrejected);\r\n\t    };\r\n\t    AsyncAction.prototype.finally = function (onfulfilled) {\r\n\t        return this.promise.finally(onfulfilled);\r\n\t    };\r\n\t    return AsyncAction;\r\n\t}(SyncAction));\r\n\texports.AsyncAction = AsyncAction;\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar actionHelpers_1 = __webpack_require__(1);\r\n\tvar isSyncAction = function (action) {\r\n\t    return action instanceof actionHelpers_1.SyncAction;\r\n\t};\r\n\tvar isAsyncAction = function (action) {\r\n\t    return action instanceof actionHelpers_1.AsyncAction;\r\n\t};\r\n\tvar mergeObject = function (action) {\r\n\t    var merged = {};\r\n\t    for (var key in action) {\r\n\t        if (key !== 'constructor') {\r\n\t            merged[key] = action[key];\r\n\t        }\r\n\t    }\r\n\t    return merged;\r\n\t};\r\n\texports.asyncMiddleware = function (store) { return function (next) { return function (action) {\r\n\t    if (isSyncAction(action)) {\r\n\t        action.type = action.constructor.name;\r\n\t        if (isAsyncAction(action)) {\r\n\t            action.promise = new Promise(function (resolve, reject) {\r\n\t                //After original dispatch lifecycle, resolve dispatch in order to handle async operations\r\n\t                setTimeout(function () {\r\n\t                    resolve(store.dispatch);\r\n\t                });\r\n\t            });\r\n\t        }\r\n\t        //Fix: Actions must be plain objects.\r\n\t        var merged = mergeObject(action);\r\n\t        //Change state immediately and register async operations\r\n\t        return next(merged);\r\n\t    }\r\n\t    return next(action);\r\n\t}; }; };\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tPromise.prototype['finally'] = function finallyPolyfill(callback) {\r\n\t    var constructor = this.constructor;\r\n\t    return this.then(function (value) {\r\n\t        return constructor.resolve(callback(value, true)).then(function () {\r\n\t            return value;\r\n\t        });\r\n\t    }, function (reason) {\r\n\t        return constructor.resolve(callback(reason, false)).then(function () {\r\n\t            throw reason;\r\n\t        });\r\n\t    });\r\n\t};\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ReducerBuilder = (function () {\r\n\t    function ReducerBuilder() {\r\n\t        this.actions = {};\r\n\t    }\r\n\t    ReducerBuilder.prototype.init = function (state) {\r\n\t        this.initState = state;\r\n\t        return this;\r\n\t    };\r\n\t    ReducerBuilder.prototype.handle = function (actionType, actionBody) {\r\n\t        this.actions[actionType.name] = actionBody;\r\n\t        return this;\r\n\t    };\r\n\t    ReducerBuilder.prototype.build = function () {\r\n\t        var _this = this;\r\n\t        return function (state, action) {\r\n\t            if (state === void 0) { state = _this.initState; }\r\n\t            var type = action.type;\r\n\t            var actionBody = _this.actions[type];\r\n\t            if (!!actionBody) {\r\n\t                return actionBody(state, action);\r\n\t            }\r\n\t            return state;\r\n\t        };\r\n\t    };\r\n\t    return ReducerBuilder;\r\n\t}());\r\n\texports.ReducerBuilder = ReducerBuilder;\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar redux_1 = __webpack_require__(6);\r\n\tvar asyncMiddleware_1 = __webpack_require__(2);\r\n\tvar StoreBuilder = (function () {\r\n\t    function StoreBuilder() {\r\n\t        this.middlewares = [asyncMiddleware_1.asyncMiddleware];\r\n\t        this.reducers = {};\r\n\t        this.initialState = {};\r\n\t        this.enhancer = function (f) { return f; };\r\n\t    }\r\n\t    StoreBuilder.prototype.withMiddleware = function (middleware) {\r\n\t        this.middlewares.push(middleware);\r\n\t        return this;\r\n\t    };\r\n\t    StoreBuilder.prototype.withInitialState = function (state) {\r\n\t        this.initialState = state;\r\n\t        return this;\r\n\t    };\r\n\t    StoreBuilder.prototype.withReducer = function (name, reducer) {\r\n\t        this.reducers[name] = reducer;\r\n\t        return this;\r\n\t    };\r\n\t    StoreBuilder.prototype.withReducersMap = function (reducers) {\r\n\t        for (var reducer in reducers) {\r\n\t            this.reducers[reducer] = reducers[reducer];\r\n\t        }\r\n\t        return this;\r\n\t    };\r\n\t    StoreBuilder.prototype.withEnhancer = function (enhancer) {\r\n\t        var preEnhancer = this.enhancer;\r\n\t        this.enhancer = function (f) { return enhancer(preEnhancer(f)); };\r\n\t        return this;\r\n\t    };\r\n\t    StoreBuilder.prototype.build = function () {\r\n\t        var middlewares = redux_1.applyMiddleware.apply(void 0, this.middlewares);\r\n\t        var reducers = redux_1.combineReducers(this.reducers);\r\n\t        var composer = redux_1.compose(middlewares, this.enhancer)(redux_1.createStore);\r\n\t        var store = composer(reducers, this.initialState);\r\n\t        return store;\r\n\t    };\r\n\t    return StoreBuilder;\r\n\t}());\r\n\texports.StoreBuilder = StoreBuilder;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"redux\");\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ts-helpers\");\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** redux-ts.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 10eedfb526d508a1c302\n **/","export * from \"./utils/actionHelpers\"\r\nexport * from \"./utils/reducerBuilder\"\r\nexport * from \"./utils/storeBuilder\"\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.ts\n **/","import 'ts-helpers'\r\nimport \"./promiseHelpers\"\r\n\r\n\r\nexport type NullableDispatch = Redux.Dispatch<any> | void;\r\n\r\nexport abstract class SyncAction implements Redux.Action {\r\n    type: string;\r\n}\r\n\r\nexport abstract class AsyncAction extends SyncAction implements Promise<NullableDispatch>{\r\n\r\n    private promise: Promise<Redux.Dispatch<any>>\r\n\r\n    then(onfulfilled?: (value: Redux.Dispatch<any>) => NullableDispatch | PromiseLike<NullableDispatch>, onrejected?: (reason: any) => void): Promise<NullableDispatch> {\r\n        return this.promise.then(onfulfilled, onrejected);\r\n    }\r\n\r\n    catch(onrejected?: (reason: any) => NullableDispatch | PromiseLike<NullableDispatch>): Promise<NullableDispatch> {\r\n        return this.promise.catch(onrejected);\r\n    }\r\n\r\n    finally(onfulfilled?: (value?: NullableDispatch, isSuccess?: boolean) => any | PromiseLike<NullableDispatch>): Promise<NullableDispatch> {\r\n        return this.promise.finally(onfulfilled);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/actionHelpers.ts\n **/","import { SyncAction, AsyncAction } from './actionHelpers'\r\n\r\n\r\nconst isSyncAction = (action: Redux.Action): action is any => {\r\n    return action instanceof SyncAction;\r\n}\r\n\r\nconst isAsyncAction = (action: Redux.Action): action is any => {\r\n    return action instanceof AsyncAction;\r\n}\r\n\r\nconst mergeObject = (action: any): any => {\r\n    let merged: any = {};\r\n    for (var key in action) {\r\n        if (key !== 'constructor') {\r\n            merged[key] = (<any>action)[key];\r\n        }\r\n    }\r\n    return merged;\r\n}\r\n\r\nexport const asyncMiddleware = <S>(store: Redux.MiddlewareAPI<S>) => (next: Redux.Dispatch<S>): Redux.Dispatch<S> => (action: Redux.Action) => {\r\n    if (isSyncAction(action)) {\r\n        action.type = action.constructor.name;\r\n\r\n        if (isAsyncAction(action)) {\r\n            action.promise = new Promise<Redux.Dispatch<any>>((resolve, reject) => {\r\n                //After original dispatch lifecycle, resolve dispatch in order to handle async operations\r\n                setTimeout(() => {\r\n                    resolve(store.dispatch);\r\n                });\r\n            });\r\n        }\r\n\r\n        //Fix: Actions must be plain objects.\r\n        let merged = mergeObject(action);\r\n\r\n        //Change state immediately and register async operations\r\n        return next(merged);\r\n    }\r\n\r\n    return next(action);\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/asyncMiddleware.ts\n **/","interface Promise<T> {\r\n    finally<TResult>(onfulfilled?: (value?: T, isSuccess?: boolean) => TResult | PromiseLike<TResult>): Promise<TResult>;\r\n}\r\n\r\nPromise.prototype['finally'] = function finallyPolyfill<TResult>(callback: (value?: any, isSuccess?: boolean) => TResult | PromiseLike<TResult>) {\r\n    var constructor = this.constructor;\r\n\r\n    return this.then(function (value: any) {\r\n        return constructor.resolve(callback(value, true)).then(function () {\r\n            return value;\r\n        });\r\n    }, function (reason: any) {\r\n        return constructor.resolve(callback(reason, false)).then(function () {\r\n            throw reason;\r\n        });\r\n    });\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/promiseHelpers.ts\n **/","import { SyncAction, AsyncAction } from '../utils/actionHelpers'\r\n\r\n\r\nexport interface IAction<T extends Redux.Action> {\r\n    prototype: T;\r\n}\r\n\r\nexport type Reducer<State, ActionType extends SyncAction> = (state: State, action: ActionType) => State;\r\n\r\nexport class ReducerBuilder<State> {\r\n\r\n    private actions: { [type: string]: Reducer<State, SyncAction> } = {};\r\n    private initState: State;\r\n\r\n    public init(state: State) {\r\n        this.initState = state;\r\n        return this;\r\n    }\r\n\r\n    public handle<T extends SyncAction>(actionType: IAction<T>, actionBody: Reducer<State, T>) {\r\n        this.actions[(<any>actionType).name] = actionBody;\r\n        return this;\r\n    }\r\n\r\n    public build() {\r\n        return (state: State = this.initState, action: SyncAction): State => {\r\n            let type = action.type;\r\n            let actionBody = this.actions[type];\r\n\r\n            if (!!actionBody) {\r\n                return actionBody(state, action);\r\n            }\r\n\r\n            return state;\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/reducerBuilder.ts\n **/","import { combineReducers, createStore, applyMiddleware, compose } from 'redux';\r\nimport { asyncMiddleware } from '../utils/asyncMiddleware'\r\n\r\n\r\nexport class StoreBuilder<StoreType> {\r\n\r\n    private middlewares: Redux.Middleware[];\r\n    private reducers: Redux.ReducersMapObject;\r\n    private initialState: StoreType;\r\n    private enhancer: Redux.GenericStoreEnhancer;\r\n\r\n    constructor() {\r\n        this.middlewares = [asyncMiddleware];\r\n        this.reducers = {};\r\n        this.initialState = {} as StoreType;\r\n        this.enhancer = (f: Redux.StoreCreator) => f;\r\n    }\r\n\r\n    public withMiddleware(middleware: Redux.Middleware) {\r\n        this.middlewares.push(middleware);\r\n        return this;\r\n    }\r\n\r\n    public withInitialState(state: StoreType) {\r\n        this.initialState = state;\r\n        return this;\r\n    }\r\n\r\n    public withReducer<S>(name: string, reducer: Redux.Reducer<S>) {\r\n        this.reducers[name] = reducer;\r\n        return this;\r\n    }\r\n\r\n    public withReducersMap(reducers: Redux.ReducersMapObject) {\r\n        for (let reducer in reducers) {\r\n            this.reducers[reducer] = reducers[reducer];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public withEnhancer(enhancer: Redux.GenericStoreEnhancer) {\r\n        let preEnhancer = this.enhancer;\r\n        this.enhancer = (f: Redux.StoreCreator) => enhancer(preEnhancer(f));\r\n        return this;\r\n    }\r\n\r\n\r\n    public build() {\r\n        let middlewares = applyMiddleware(...this.middlewares);\r\n        let reducers = combineReducers(this.reducers);\r\n        let composer = compose(middlewares, this.enhancer)(createStore);\r\n        let store = composer(reducers, this.initialState);\r\n\r\n        return store as Redux.Store<StoreType>;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/storeBuilder.ts\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"ts-helpers\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ts-helpers\"\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}